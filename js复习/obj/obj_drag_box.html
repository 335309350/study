<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>继承实现拖拽</title>
	<style type="text/css">
		#drag_box{
			width:200px;
			height:200px;
			position:absolute;
			background:red;
		}
	</style>
	<script type="text/javascript">
		var disX=null;
		var disY=null;
		var drag_box=null;
		window.onload=function(){
			drag_box=document.getElementById("drag_box");
			drag_box.onmousedown=fnMousedown;
		}
		function fnMousedown(ev){
				var oEvent=ev || window.event;
				//可视区的x减去div的物体的x
				//alert(oEvent.clientX);
				disX=oEvent.clientX-drag_box.offsetLeft;
				disY=oEvent.clientY-drag_box.offsetTop;
				//鼠标移动
				document.onmousemove=fnMouseMove;
				//鼠标弹起
				document.onmouseup=fnMouseUp;
		}
		function fnMouseMove(ev){
					var oEvent=ev || window.event;
					//设置div的left,top
					//鼠标的x,y减去disx,disy
					drag_box.style.left=oEvent.clientX-disX+"px";
					drag_box.style.top=oEvent.clientY-disY+"px";
		}
		function fnMouseUp(){
					document.onmousemove=null;
					document.onmouseup=null;
				}
	</script>
</head>
<body>
	<div id="drag_box"></div>
</body>
</html>